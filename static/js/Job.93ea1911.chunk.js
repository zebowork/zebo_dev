(this.webpackJsonpzebo_fe=this.webpackJsonpzebo_fe||[]).push([[11],{593:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return d}));var n=a(48),r=a.n(n),l=a(79),c=a(67),i=a(21),s=a(56),o=a(226);function m(){return u.apply(this,arguments)}function u(){return(u=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.j)(),e.next=3,Object(c.c)(i.e);case 3:if(!(a=e.sent)){e.next=7;break}return Object(o.a)(t),e.abrupt("return",a.response);case 7:return e.abrupt("return",Object(o.a)(t));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.k)(0,0),e.next=3,Object(c.c)(i.g);case 3:if(!(a=e.sent)){e.next=7;break}return Object(o.b)(t),e.abrupt("return",Promise.resolve({db:a.response,api:t}));case 7:return e.abrupt("return",Promise.resolve({db:[],api:Object(o.b)(t)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},597:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return i}));var n=a(4),r=function(){return{type:n.e.CANCEL_JOB}},l=function(e){return{type:n.e.LAUNDRY_PRICE_DETAIL,laundryId:e}},c=function(){return{type:n.e.PRICE_DETAIL}},i=function(e){return{type:n.e.DISPLAY_POST_JOB,selectedLaundryId:e}}},615:function(e,t,a){"use strict";var n,r=a(3),l=a(8),c=a(9),i=a.n(c),s=a(90),o=a(167),m=a(0),u=a.n(m),d=a(149),b=a(229),f=a(231),p={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function E(e,t){var a=t["offset"+e[0].toUpperCase()+e.slice(1)],n=p[e];return a+parseInt(Object(s.a)(t,n[0]),10)+parseInt(Object(s.a)(t,n[1]),10)}var h=((n={})[d.c]="collapse",n[d.d]="collapsing",n[d.b]="collapsing",n[d.a]="collapse show",n),v={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:E},g=u.a.forwardRef((function(e,t){var a=e.onEnter,n=e.onEntering,c=e.onEntered,s=e.onExit,p=e.onExiting,v=e.className,g=e.children,y=e.dimension,N=void 0===y?"height":y,k=e.getDimensionValue,O=void 0===k?E:k,C=Object(l.a)(e,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]),j="function"===typeof N?N():N,w=Object(m.useMemo)((function(){return Object(b.a)((function(e){e.style[j]="0"}),a)}),[j,a]),S=Object(m.useMemo)((function(){return Object(b.a)((function(e){var t="scroll"+j[0].toUpperCase()+j.slice(1);e.style[j]=e[t]+"px"}),n)}),[j,n]),x=Object(m.useMemo)((function(){return Object(b.a)((function(e){e.style[j]=null}),c)}),[j,c]),I=Object(m.useMemo)((function(){return Object(b.a)((function(e){e.style[j]=O(j,e)+"px",Object(f.a)(e)}),s)}),[s,O,j]),P=Object(m.useMemo)((function(){return Object(b.a)((function(e){e.style[j]=null}),p)}),[j,p]);return u.a.createElement(d.e,Object(r.a)({ref:t,addEndListener:o.a},C,{"aria-expanded":C.role?C.in:null,onEnter:w,onEntering:S,onEntered:x,onExit:I,onExiting:P}),(function(e,t){return u.a.cloneElement(g,Object(r.a)({},t,{className:i()(v,g.props.className,h[e],"width"===j&&"width")}))}))}));g.defaultProps=v,t.a=g},640:function(e,t,a){},751:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(54),c=a(307),i=a(74),s=a(85),o=a(583),m=a(171),u=a(127),d=a(228),b=a(31),f=a(30),p=a(49),E=a(142),h=function(e){var t=e.items,a=e.deleteItem,n=e.editItem;return r.a.createElement("div",null," ",r.a.createElement("div",null,t.map((function(e){return r.a.createElement("span",{key:e.basketFeId},r.a.createElement("div",{className:"card p-0 mb-2 border-top-0 border-right-0 border-left-0"},r.a.createElement("div",{className:"d-flex flex-row  justify-content-between rounded bg-white"},r.a.createElement("div",{className:"d-flex align-items-start flex-column  bg-white"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"p-1 "},r.a.createElement("button",{type:"button",className:"close text-danger float-left","aria-label":"Close","data-original-title":"Delete item",onClick:function(t){return a(e.basketFeId)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"p-1 font-weight-bold pull-left"},r.a.createElement("span",{className:"wr"}," ",Object(f.j)(e.name,19))," ",Object(p.b)(e.operations,E.a)&&r.a.createElement("i",{className:"icofont-hanger icofont-md","aria-hidden":"true"})),r.a.createElement("div",{className:"pt-2  pull-right",style:{fontSize:"10px",textAlign:"right"}},Object(f.b)(e.febric))),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-1 "},r.a.createElement("button",{type:"button",className:"border border-0 bg-transparent p-0","aria-hidden":"true",style:{color:"#3386ff",outline:"none"},"data-testid":"edit-btn",onClick:function(t){return n(e)}},r.a.createElement("a",{href:"#itd",className:"text-primary"},r.a.createElement("i",{className:"icofont-edit","aria-hidden":"true"})))),r.a.createElement("div",{className:"p-1 ",style:{fontSize:"12px"}},Object(p.f)(e.operations,E.a).map((function(e){return Object(f.b)(e)})).join(", ")),r.a.createElement("div",{className:"p-1",style:{fontSize:"12px"}},"- ",e.imageUrls.length," ",r.a.createElement("i",{className:"icofont-ui-camera","aria-hidden":"true"})))),r.a.createElement("div",{className:"d-flex align-items-end flex-column bg-white align-self-center"},r.a.createElement("div",{className:"align-self-center align-self-stretch"},r.a.createElement("span",{className:"circleNum"},Object(f.k)(e.count)))))))}))))},v=function(e){var t=e.items,a=e.deleteItem,n=e.editItem;return r.a.createElement("div",{className:"table-responsive table-full-width"},r.a.createElement("table",{className:"table table-hover table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Count"),r.a.createElement("th",null,"Ops."),r.a.createElement("th",null,"Febric"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.basketFeId},r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"close text-danger float-left pr-1","aria-label":"Close","data-original-title":"Delete item",onClick:function(t){return a(e.basketFeId)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("button",{type:"button",className:"border border-0 p-0 bg-transparent noOutline","aria-hidden":"true",style:{color:"#3386ff"},"data-testid":"edit-btn",onClick:function(t){return n(e)}},r.a.createElement("a",{href:"#itd",className:"text-primary"},r.a.createElement("i",{className:"icofont-edit","aria-hidden":"true"})))),r.a.createElement("td",null,e.name," ",Object(p.b)(e.operations,E.a)&&r.a.createElement("i",{className:"icofont-hanger icofont-md","aria-hidden":"true"})),r.a.createElement("td",null,e.count),r.a.createElement("td",null,Object(p.f)(e.operations,E.a).map((function(e){return Object(f.b)(e)})).join(", ")),r.a.createElement("td",null,Object(f.b)(e.febric)),r.a.createElement("td",null,e.imageUrls.length," ",r.a.createElement("i",{className:"icofont-ui-camera","aria-hidden":"true"})))})))))},g=a(9),y=a.n(g),N=(a(640),a(111)),k=a(84),O=function(e){var t,a=Object(n.useState)(!1),l=Object(s.a)(a,2),c=l[0],i=l[1],f=function(){return i(!1)},p=e.isMobile,E=e.handleClearBasket,g=e.items,O=e.handleAddressChange,C=e.addresses,j=e.handleServiceChange,w=e.selectedService,S=e.selectedAddress,x=e.handleCheckBasketPrice,I=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",ref:e.refsMap.get(k.a.basket),tabIndex:-1},r.a.createElement("div",{className:y()("header",{"p-3":p,"pt-sm-2 px-sm-4":!p})},r.a.createElement("h4",{className:"title"},"Basket ",r.a.createElement("i",{className:"icofont-basket icofont-md","aria-hidden":"true"})),0!==g.length&&r.a.createElement("p",{className:"category"},"Following items you have added to you basket")),r.a.createElement("div",{className:y()("content",{"p-2":p,"pt-sm-2 px-sm-4":!p})},0===g.length&&r.a.createElement("div",{style:{textAlign:"center"},"data-testid":"emptyBasket"},r.a.createElement("i",{className:y()("icofont-delete-alt icofont-md",{mobileEmptyBasket:p,desktopEmptyBasket:!p}),"aria-hidden":"true"})),0!==g.length&&r.a.createElement(r.a.Fragment,null,p&&r.a.createElement(h,e),!p&&r.a.createElement(v,e),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(u.a,{type:"dropDownAddNew",label:"Pickup and delivery: ",onChange:function(e){return O((t=e)?t.value:"");var t},options:C.map((function(e){return{value:e,label:e}})),defaultValue:(t=S,0!==t.length?{value:t,label:t}:null)})),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(d.a,{label:"Express",input:{name:"serviceType",value:"EXPRESS",onChange:function(e){return j(e.target.value)},checked:"EXPRESS"===w}}),r.a.createElement(d.a,{label:"Urgent",input:{name:"serviceType",value:"URGENT",onChange:function(e){return j(e.target.value)},checked:"URGENT"===w}}),r.a.createElement(d.a,{label:"Standard",input:{name:"serviceType",value:"STANDARD",onChange:function(e){return j(e.target.value)},checked:"STANDARD"===w}})),r.a.createElement("div",{className:"d-flex justify-content-end flex-wrap"},r.a.createElement(o.a,{className:"btn btn-success btn-fill btn-wd float-right",onClick:function(){S?x():b.a.warn("Select or enter address for pickup & delivery")},disabled:I},r.a.createElement(N.a,{variant:"light",show:I,id:"checkPriceButtonText"},"Check Price ",r.a.createElement("i",{className:"icofont-database icofont-md","aria-hidden":"true"}))),r.a.createElement(o.a,{className:"btn btn-wd mt-1 ml-1",onClick:function(){return i(!0)}},"Empty Basket ",r.a.createElement("i",{className:"icofont-delete-alt icofont-md","aria-hidden":"true"}))))))),r.a.createElement(m.a,{show:c,onHide:f},r.a.createElement(m.a.Header,{closeButton:!0,translate:"yes"},r.a.createElement(m.a.Title,null,"Empty Basket")),r.a.createElement(m.a.Body,null,"Everything will be delete from basket!"),r.a.createElement(m.a.Footer,null,r.a.createElement(o.a,{variant:"primary",onClick:function(){f(),E()}},"Delete"),r.a.createElement(o.a,{variant:"secondary",onClick:f},"No"))))},C=a(21),j=a(181),w=Object(l.b)((function(e){return{items:e.basketState.items,selectedAddress:e.basketState.selectedAddress,selectedService:e.basketState.selectedService,addresses:e.loginState.user.preferences.deliveryAddress,isMobile:e.layoutState.isMobile,isLoading:j.a.isInProgress(C.a,e.aPICallsState.calls)}}),(function(e){return{deleteItem:function(t){return e(Object(c.g)(t))},editItem:function(t){return e(Object(c.f)(t))},handleCheckBasketPrice:function(){return e(Object(c.d)())},handleAddressChange:function(t){e(Object(c.b)(t)),e(Object(i.f)(t))},handleServiceChange:function(t){return e(Object(c.c)(t))},handleClearBasket:function(){return e(Object(c.e)())}}}))(O),S=a(18),x=a(25),I=a(78),P=a(36),T=a(37),A=a(4),D=a(128),B=a(66),L=a(120),M=a(593);var R=function(){return{type:A.b.REQUEST_ITEMS}},_=function(e){return{type:A.b.RECEIVE_ITEMS,categoriesWithItems:e.categoriesWithItems,receivedAt:Date.now()}},J=a(91),U=a(599),V=function(e){switch(e){case"GENERAL":return r.a.createElement("i",{className:"icofont-users-alt-4","aria-hidden":"true"});case"FEMALES_REMAINING":return r.a.createElement("i",{className:"icofont-female","aria-hidden":"true"});case"OTHERS":return r.a.createElement("i",{className:"icofont-atom","aria-hidden":"true"});case"HOUSEHOLD":return r.a.createElement("i",{className:"icofont-ui-home","aria-hidden":"true"})}},F=function(e){return r.a.createElement(U.a,{className:"buttons-with-margin"},r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,e.category," ",V(e.category)),r.a.createElement(U.a.Text,null,e.items.map((function(t){return r.a.createElement("button",{type:"button",key:t.name,className:"btn btn-wd btn-info",onClick:function(a){return e.handleClick(a,t.name)}},t.name)})))))},H=function(e){var t=e.categoriesWithItems,a=e.handleItemClick,n=e.isLoad,l=[];if(t)for(var c in t)l.push(r.a.createElement(F,{key:c,category:c,items:t[c],handleClick:a}));return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header pt-sm-2 px-sm-4"},r.a.createElement("h4",{id:"itms"},"Laundry Items ",r.a.createElement("i",{className:"icofont-refree-jersey icofont-md","aria-hidden":"true"}))),r.a.createElement("div",{className:"content pt-sm-2 px-sm-4"},r.a.createElement(N.a,{variant:"dark",children:l,show:n,id:"items"})))},K=a(3),W=a(8),z=a(638),Y=a(40),G=r.a.createContext(null),X=r.a.createContext(null);X.displayName="AccordionContext";var Z=X;var q=r.a.forwardRef((function(e,t){var a=e.as,l=void 0===a?"button":a,c=e.children,i=e.eventKey,s=e.onClick,o=Object(W.a)(e,["as","children","eventKey","onClick"]),m=function(e,t){var a=Object(n.useContext)(Z),r=Object(n.useContext)(G);return function(n){r&&r(e===a?null:e,n),t&&t(n)}}(i,s);return"button"===l&&(o.type="button"),r.a.createElement(l,Object(K.a)({ref:t,onClick:m},o),c)})),Q=a(615),$=r.a.forwardRef((function(e,t){var a=e.children,l=e.eventKey,c=Object(W.a)(e,["children","eventKey"]),i=Object(n.useContext)(Z);return r.a.createElement(Q.a,Object(K.a)({ref:t,in:i===l},c),r.a.createElement("div",null,r.a.Children.only(a)))}));$.displayName="AccordionCollapse";var ee=$,te=r.a.forwardRef((function(e,t){var a=Object(z.a)(e,{activeKey:"onSelect"}),n=a.as,l=void 0===n?"div":n,c=a.activeKey,i=a.bsPrefix,s=a.children,o=a.className,m=a.onSelect,u=Object(W.a)(a,["as","activeKey","bsPrefix","children","className","onSelect"]),d=y()(o,Object(Y.a)(i,"accordion"));return r.a.createElement(Z.Provider,{value:c||null},r.a.createElement(G.Provider,{value:m||null},r.a.createElement(l,Object(K.a)({ref:t},u,{className:d}),s)))}));te.displayName="Accordion",te.Toggle=q,te.Collapse=ee;var ae=te,ne=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"card m-1"},r.a.createElement("div",{className:"ourheader"},r.a.createElement(ae.Toggle,{as:U.a.Header,eventKey:e.index+""},r.a.createElement("i",{className:"icofont-caret-down icofont-md","aria-hidden":"true"})," ",e.category," ",V(e.category))),r.a.createElement(ae.Collapse,{eventKey:e.index+""},r.a.createElement("div",{className:"card-body card-text border-none buttons-with-margin"},e.items.map((function(t){return r.a.createElement("button",{type:"button",key:t.name,className:"btn btn-wd btn-info",onClick:function(a){return e.handleClick(a,t.name)}},t.name)}))))))},re=function(e){var t=e.categoriesWithItems,a=e.handleItemClick,n=e.isLoad,l=[];if(t){var c=0;for(var i in t)l.push(r.a.createElement(ne,{key:i,category:i,items:t[i],index:c,handleClick:a})),c++}return r.a.createElement("div",{className:"mb-5"},r.a.createElement("div",{className:"header"},r.a.createElement("h4",{id:"itms",className:"pb-2 m-0",style:{color:"#3f44ea"}},"Laundry Items ",r.a.createElement("i",{className:"icofont-refree-jersey icofont-md","aria-hidden":"true"}))),r.a.createElement("div",{className:"content"},r.a.createElement(N.a,{variant:"dark",show:n,id:"items"},r.a.createElement(ae,{defaultActiveKey:"0"},l))))},le=function(e){Object(P.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleItemClick=n.handleItemClick.bind(Object(I.a)(n)),n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchItems()}},{key:"handleItemClick",value:function(e,t){e.preventDefault(),this.props.selectItemToPutInBasket(t)}},{key:"render",value:function(){var e=this.props,t=e.categoriesWithItems,a=e.isMobile,n=e.isLoading;return r.a.createElement("div",{ref:this.props.refsMap.get(k.a.items),tabIndex:-1},!a&&r.a.createElement(H,{categoriesWithItems:t,handleItemClick:this.handleItemClick,isLoad:n}),a&&r.a.createElement(re,{categoriesWithItems:t,handleItemClick:this.handleItemClick,isLoad:n}))}}]),a}(r.a.Component);var ce={fetchItems:function(){return function(e){e(Object(D.c)(C.e)),e(R()),Object(M.a)().then((function(t){return e(_(t))})).catch((function(e){return b.a.err(L.b)})).finally((function(){e(Object(D.b)(C.e)),Object(B.b)()}))}},selectItemToPutInBasket:J.i},ie=Object(l.b)((function(e){return{categoriesWithItems:e.itemState.categoriesWithItems,isMobile:e.layoutState.isMobile,isLoading:j.a.isInProgress(C.e,e.aPICallsState.calls)}}),ce)(le),se=function(e){var t=e.summary,a=e.handleDetailClick,l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],u=c[1],d=function(){return u(!0)},b=t.id,f=t.name,p=t.estimatedPrice,E=t.estimatedTime,h=t.deliveryCharges,v=t.notMatchReasons,g=t.warningReasons,y=t.rating;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,null,r.a.createElement("div",{className:"header pt-sm-2 px-sm-4"},r.a.createElement("span",{className:"pr-2"},r.a.createElement("i",{className:"icofont-user","aria-hidden":"true"})),f," ",y),r.a.createElement("div",{className:"content pt-sm-2 px-sm-4"},p&&r.a.createElement("p",null,"Total: ",p),E&&r.a.createElement("p",null,"Time: ",E),h&&r.a.createElement("p",null,"Delivery: ",h),r.a.createElement(o.a,{className:"btn btn-success btn-fill float-right",onClick:function(){return a(b)}},"Price Details"," ",r.a.createElement("i",{className:"icofont-database icofont-md","aria-hidden":"true"})),g&&g.length>0?r.a.createElement("div",null,r.a.createElement("span",{className:"text-warning"},"Some prices are missing")," ",r.a.createElement("button",{className:"btn btn-xs",onClick:function(e){return d()}},"Details")):v&&v.length>0?r.a.createElement("div",null,r.a.createElement("span",{className:"text-danger"},"Some services may not be provided")," ",r.a.createElement("button",{className:"btn btn-xs",onClick:function(e){return d()}},"Details")):"")),r.a.createElement(m.a,{show:i,onHide:function(){return u(!1)},dialogClassName:"modal-dialog modal-dialog-scrollable","aria-labelledby":"contained-modal-title-vcenter",size:"lg",centered:!0},r.a.createElement(m.a.Header,{closeButton:!0,translate:"yes"},"Possible problems details"),r.a.createElement(m.a.Body,{style:{backgroundColor:"white"}},r.a.createElement("ul",{className:"text-danger"},v&&v.map((function(e){return r.a.createElement("li",null,e)}))),r.a.createElement("ul",{className:"text-warning"},g&&g.map((function(e){return r.a.createElement("li",null,e)}))),r.a.createElement("b",null,"Don't worry too much about these message(s). Your zebo can contact you for details on your requirements."))))},oe=function(e){var t=e.summary,a=e.handlePostJob,l=e.refsMap,c=t.id,i=t.name,s=t.estimatedPrice,o=t.estimatedTime,m=t.deliveryCharges,u=t.rating,d=t.displayItemPriceBreakDown;return Object(n.useEffect)((function(){var e,t;null===(e=l.get(k.a.laundryDetail))||void 0===e||null===(t=e.current)||void 0===t||t.focus()})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",ref:l.get(k.a.laundryDetail),tabIndex:-1},r.a.createElement("div",{className:"header pt-sm-2 px-sm-4"},r.a.createElement("h4",{id:"ld"},r.a.createElement("span",{className:"pr-2"},r.a.createElement("i",{className:"icofont-user-suited","aria-hidden":"true"})),i," ",u)),r.a.createElement("div",{className:"content pt-sm-2 px-sm-4"},o&&r.a.createElement("p",{className:"text-info"},"Time: ",o),d&&r.a.createElement("div",{className:"content table-responsive table-full-width"},r.a.createElement("table",{className:"table table-hover table-striped"},r.a.createElement("tbody",null,d.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"text-right"},e))}))))),r.a.createElement("div",{className:"text-right"},m&&r.a.createElement("p",null,"Delivery: ",m),s&&r.a.createElement("p",null,"Total: ",s)),r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-success btn-fill",onClick:function(){return a(c)}},r.a.createElement("span",{className:"pr-2"},"Assign Job"),r.a.createElement("i",{className:"icofont-share-alt icofont-md","aria-hidden":"true"}))))))},me=function(e){var t=e.summaries,a=e.isMobile,n=e.handleCancelJob,l=e.displayDetail,c=e.handleDetailClick,i=e.clickedLaundryId,s=e.handlePostJob,o=e.refsMap,m=function(e){var t,a;c(e),null===(t=o.get(k.a.laundryDetail))||void 0===t||null===(a=t.current)||void 0===a||a.focus()};return r.a.createElement("div",null,!1,r.a.createElement("div",{className:"row"},l&&r.a.createElement("div",{className:"col-md-6"},r.a.createElement(oe,{handlePostJob:s,refsMap:o,summary:t.filter((function(e){return e.id===i}))[0]})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card",ref:o.get(k.a.laundrySummaries),tabIndex:-1},r.a.createElement("div",{className:"header pt-sm-2 px-sm-4"},r.a.createElement("h4",{"data-testid":"psHeading"},r.a.createElement("span",{className:"pr-2"},"Laundries"),r.a.createElement("i",{className:"icofont-users","aria-hidden":"true"}))),r.a.createElement("div",{className:"content pt-sm-2 px-sm-4"},!t&&r.a.createElement("p",null,"No Laundry Found in your Area"),t&&r.a.createElement("div",null,!a&&r.a.createElement("button",{className:"btn btn-wd",onClick:function(){return n()}},r.a.createElement("span",{className:"pr-2"},"Basket"),r.a.createElement("i",{className:"icofont-basket icofont-md","aria-hidden":"true"})),r.a.createElement("p",null,"Laundries found in your area."),t.map((function(e){return r.a.createElement(se,{key:e.id,summary:e,handleDetailClick:m})})),r.a.createElement("p",{className:"text-muted"},"*Price and time are estimates based on price list, but the can change")))))))},ue=a(597),de=a(83),be=function(e){Object(P.a)(a,e);var t=Object(T.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement(me,Object.assign({clickedLaundryId:this.props.laundryId},this.props,{handleDetailClick:this.props.updateGlobalStateOnDetailClick}))}}]),a}(r.a.Component),fe=Object(l.b)((function(e){return{summaries:e.priceSummaryState.laundryPriceSummaries,displayDetail:e.jobPageState.showPriceDetail,laundryId:e.priceSummaryState.showDetailLaundryId,isMobile:e.layoutState.isMobile}}),(function(e){return Object(de.b)({handleCancelJob:function(){return Object(ue.a)()},updateGlobalStateOnDetailClick:function(e){return Object(ue.c)(e)},handlePostJob:function(e){return Object(ue.b)(e)}},e)}))(be),pe=a(617),Ee=a.n(pe),he=a(216),ve=a(301),ge=a(592),ye=a(182),Ne=function(e){Object(P.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).state={displayTimepicker:!1,code:""},n.getValue=n.getValue.bind(Object(I.a)(n)),n.changeTimeState=n.changeTimeState.bind(Object(I.a)(n)),n.validateAndHandlePostJob=n.validateAndHandlePostJob.bind(Object(I.a)(n)),n}return Object(x.a)(a,[{key:"toggleTimekeeper",value:function(e){var t=!this.state.displayTimepicker;this.setState({displayTimepicker:t,code:e})}},{key:"getValue",value:function(){switch(this.state.code){case"pa":return this.props.pickupAfter;case"pb":return this.props.pickupBefore;case"da":return this.props.deliverAfter;case"db":return this.props.deliverBefore;default:return""}}},{key:"changeTimeState",value:function(e){switch(this.state.code){case"pa":return this.props.pickupAfterTimeChange(e);case"pb":return this.props.pickupBeforeTimeChange(e);case"da":return this.props.deliverAfterTimeChange(e);case"db":return this.props.deliverBeforeTimeChange(e);default:return}}},{key:"validateAndHandlePostJob",value:function(){var e=Object(ye.b)(this.props.email);this.props.contactNumber?e?b.a.warn(e+" "+this.props.email):this.props.handlePostJob():b.a.warn("Select or enter contact number")}},{key:"render",value:function(){var e,t=this,a=this.props,r=a.pickupAfter,l=a.pickupBefore,c=a.deliverAfter,i=a.deliverBefore,s=a.handleCancelJob,m=a.laundryItems,b=a.selectedService,f=a.posting,p=a.selectedAddress,E=a.contactNumber,h=a.contactNumberChange,v=a.deliverNote,g=a.deliverNoteChange,y=a.pickupNote,k=a.pickupNoteChange,O=a.contacts,C=a.email,j=a.isLoading;return n.createElement("div",{className:"card"},n.createElement("div",{className:"content pt-sm-2 px-sm-4"},n.createElement("div",{className:"row"},!!this.state.displayTimepicker&&n.createElement("div",{className:"col-md-6"},n.createElement(Ee.a,{time:this.getValue(),onChange:this.changeTimeState,onDoneClick:function(){t.toggleTimekeeper("")},switchToMinuteOnHourSelect:!0})),n.createElement("div",{className:"col-md-6"},n.createElement("div",{style:{marginBottom:20}},n.createElement("h4",{className:"title"},"Contact Number"," ",n.createElement(ge.a,null,"We will share this number to zebo, if something confusing zebo can contact you on this")),n.createElement(u.a,{type:"dropDownAddNew",label:"Phone number: ",isClearable:"true",options:O.map((function(e){return{value:e,label:e}})),onChange:function(e){return h((t=e)?t.value:"");var t},defaultValue:(e=E,0!==e.length?{value:e,label:e}:null),onlyNumbers:!0})),n.createElement("div",{style:{marginBottom:20}},n.createElement("h4",{className:"title"},"Email "," ",n.createElement(ge.a,null,"We will use this to update you about your job status e-g we will send you email once your job is complete")),n.createElement(he.a,{type:"email",name:"email",placeholder:"Email",meta:{},defaultValue:C,onChange:function(e){return t.props.updateEmailJob(e.target.value)}})),n.createElement("div",{style:{marginBottom:20}},n.createElement("h4",{className:"title"},"Preferred pick up "," ",n.createElement(ge.a,null,"Zebo will come to pick up clothes between these time. You can mention any notes as well e-g pickup from front door")),n.createElement("div",{className:"btn-group",style:{marginBottom:5}},n.createElement("button",{type:"button","data-testid":"pickupAfter",className:"btn btn-default",onClick:function(){return t.toggleTimekeeper("pa")}},"After ",r),n.createElement("button",{type:"button","data-testid":"pickupBefore",className:"btn btn-default",onClick:function(){return t.toggleTimekeeper("pb")}},"Before ",l)),n.createElement(he.a,{type:"text",placeholder:"pick up notes",meta:{},input:{value:y,onChange:function(e){return k(e.target.value)}}})),n.createElement("div",{style:{marginBottom:20}},n.createElement("h4",{className:"title"},"Preferred Delivery "," ",n.createElement(ge.a,null,"Zebo will come to deliver clothes between these time. You should be at home this time. You can also mention any notes as well e-g door ball is not working")),n.createElement("div",{className:"btn-group",style:{marginBottom:5}},n.createElement("button",{type:"button","data-testid":"deliverAfter",className:"btn btn-default",onClick:function(){return t.toggleTimekeeper("da")}},"After ",c),n.createElement("button",{type:"button","data-testid":"deliverBefore",className:"btn btn-default",onClick:function(){return t.toggleTimekeeper("db")}},"Before ",i)),n.createElement(he.a,{type:"text",placeholder:"delivery notes",meta:{},input:{value:v,onChange:function(e){return g(e.target.value)}}})),n.createElement("div",{className:"row float-right"},n.createElement("div",{className:"col-md-12 input-group"},n.createElement(o.a,{className:"btn btn-success btn-fill btn-wd",onClick:function(){return t.validateAndHandlePostJob()},disabled:j},n.createElement(N.a,{variant:"light",show:j,id:"postJobButtonText"},"POST ",n.createElement("i",{className:"icofont-paper-plane icofont-md","aria-hidden":"true"}))),n.createElement(o.a,{className:"btn btn-wd",onClick:function(){return s()}},"Cancel ",n.createElement("i",{className:"icofont-close icofont-md","aria-hidden":"true"}))))),!this.state.displayTimepicker&&n.createElement("div",{className:"col-md-6"},n.createElement("h4",null,"Your are about to laundry"),n.createElement(d.a,{disabled:!0,"data-testid":"checkbtn",input:{checked:!0},label:"Posting ".concat(f)}),n.createElement("br",null),n.createElement(d.a,{disabled:!0,input:{checked:!0},label:"To & From ".concat(p)}),n.createElement("br",null),n.createElement(d.a,{disabled:!0,input:{checked:!0},label:"".concat(b," Service")}),n.createElement("br",null),m.map((function(e){return"".concat(e.count," x ").concat(e.name," (").concat(e.operations,")")})).map((function(e,t){return n.createElement("div",{key:t},n.createElement(ve.a,{disabled:!0,input:{checked:!0},label:e}))}))))))}}]),a}(n.Component),ke=a(56),Oe=a(232),Ce=a(13),je=function(){return function(e,t){e(Object(D.c)(C.h));var a=Object(Oe.b)(t());return Object(ke.p)(a).then((function(t){var a;e((a=t,{type:A.d.RECEIVE_POST_JOB,newVal:a})),b.a.sucs(t.message)})).catch(Ce.h).finally((function(){e(Object(D.b)(C.h)),Object(B.b)()}))}},we=a(68),Se=Object(l.b)((function(e){return{pickupAfter:Object(we.g)(e),pickupBefore:Object(we.h)(e),deliverAfter:Object(we.e)(e),deliverBefore:Object(we.f)(e),laundryItems:e.basketState.items,selectedService:e.basketState.selectedService,selectedAddress:e.basketState.selectedAddress,posting:0===e.basketState.selectedLaundryId?"To all laundries in your area":e.priceSummaryState.laundryPriceSummaries.filter((function(t){return t.id===e.basketState.selectedLaundryId}))[0].name,contactNumber:e.basketState.contactNumber,deliverNote:e.basketState.deliverNote,pickupNote:e.basketState.pickupNote,contacts:e.loginState.user.preferences.contactNumbers,email:e.basketState.emailCorrespondence,isLoading:j.a.isInProgress(C.h,e.aPICallsState.calls)}}),(function(e){return{pickupAfterTimeChange:function(t){return e(function(e){return{type:A.d.UPDATE_PICKUP_AFTER,newTime:e}}(t.formatted12))},pickupBeforeTimeChange:function(t){return e(function(e){return{type:A.d.UPDATE_PICKUP_BEFORE,newTime:e}}(t.formatted12))},deliverAfterTimeChange:function(t){return e(function(e){return{type:A.d.UPDATE_DELIVER_AFTER,newTime:e}}(t.formatted12))},deliverBeforeTimeChange:function(t){return e(function(e){return{type:A.d.UPDATE_DELIVER_BEFORE,newTime:e}}(t.formatted12))},handleCancelJob:function(){return e(Object(ue.a)())},handlePostJob:function(){return e(je())},contactNumberChange:function(t){var a;e((a=t,{type:A.d.UPDATE_CONTACT_NUMBER,newVal:a})),e(Object(i.g)(t))},deliverNoteChange:function(t){return e((a=t,{type:A.d.UPDATE_DELIVER_NOTE,newVal:a}));var a},pickupNoteChange:function(t){return e((a=t,{type:A.d.UPDATE_PICKUP_NOTE,newVal:a}));var a},updateEmailJob:function(t){return e((a=t,{type:A.d.UPDATE_EMAIL_JOB,newVal:a}));var a}}}))(Ne);t.default=Object(l.b)((function(e){return{showAllItems:e.jobPageState.showAllItems,showBasket:e.jobPageState.showBasket,showAddItem:e.jobPageState.showAddItem,showPriceSummaries:e.jobPageState.showPriceSummaries,showPostJob:e.jobPageState.showPostJob}}))((function(e){var t=e.showAllItems,a=e.showBasket,n=e.showAddItem,l=e.showPriceSummaries,c=e.showPostJob,i=e.refsMap;return r.a.createElement("div",null,r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row pt-2"},r.a.createElement("div",{className:"col-md-6"},a&&r.a.createElement(w,{refsMap:i})),r.a.createElement("div",{className:"col-md-6"},t&&r.a.createElement(ie,{refsMap:i}),n&&r.a.createElement(E.b,{refsMap:i}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},l&&r.a.createElement(fe,{refsMap:i}))),c&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(Se,null))))))}))}}]);