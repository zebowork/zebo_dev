(this.webpackJsonpzebo_fe=this.webpackJsonpzebo_fe||[]).push([[15],{667:function(e,t,n){},683:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return A}));var a=n(4),r=n(74),c=n(0),s=n(118),i=n(139),l=n(151),d=n.n(l),o=n(358),u=n.n(o),b=n(39),j=n.n(b),p=n(63),h=n(60),m=n(153),f=n(1),O=function(e){var t=e.items,n=e.deleteItem,a=e.editItem;return Object(f.jsxs)("div",{children:[" ",Object(f.jsx)("div",{children:t.map((function(e){return Object(f.jsx)("span",{children:Object(f.jsx)("div",{className:"card p-0 mb-2 border-top-0 border-right-0 border-left-0",children:Object(f.jsxs)("div",{className:"d-flex flex-row  justify-content-between rounded bg-white",children:[Object(f.jsxs)("div",{className:"d-flex align-items-start flex-column  bg-white",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsx)("div",{className:"p-1 ",children:Object(f.jsx)("button",{type:"button",className:"close text-danger float-left","aria-label":"Close","data-original-title":"Delete item",onClick:function(t){return n(e.basketFeId)},children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(f.jsxs)("div",{className:"p-1 font-weight-bold pull-left",children:[Object(f.jsxs)("span",{className:"wr",children:[" ",Object(p.text_truncate)(e.name,19)]})," ",Object(h.exist)(e.operations,m.a)&&Object(f.jsx)("i",{className:"icofont-hanger icofont-md","aria-hidden":"true"})]}),Object(f.jsx)("div",{className:"pt-2  pull-right",style:{fontSize:"10px",textAlign:"right"},children:Object(p.constantToStringUpperCaseFirstLetter)(e.febric)})]}),Object(f.jsxs)("div",{className:"d-flex",children:[Object(f.jsx)("div",{className:"p-1 ",children:Object(f.jsx)("button",{type:"button",className:"border border-0 bg-transparent p-0","aria-hidden":"true",style:{color:"#3386ff",outline:"none"},"data-testid":"edit-btn",onClick:function(t){return a(e)},children:Object(f.jsx)("i",{className:"icofont-edit","aria-hidden":"true"})})}),Object(f.jsx)("div",{className:"p-1 ",style:{fontSize:"12px"},children:Object(h.removeAllMatched)(e.operations,m.a).map((function(e){return Object(p.constantToStringUpperCaseFirstLetter)(e)})).join(", ")}),Object(f.jsxs)("div",{className:"p-1",style:{fontSize:"12px"},children:["- ",e.imageUrls.length," ",Object(f.jsx)("i",{className:"icofont-ui-camera","aria-hidden":"true"})]})]})]}),Object(f.jsx)("div",{className:"d-flex align-items-end flex-column bg-white align-self-center",children:Object(f.jsx)("div",{className:"align-self-center align-self-stretch",children:Object(f.jsx)("span",{className:"circleNum",children:Object(p.twoDigitNumber)(e.count)})})})]})})},e.basketFeId)}))})]})},x=function(e){var t=e.items,n=e.deleteItem,a=e.editItem;return Object(f.jsx)("div",{className:"table-responsive table-full-width",children:Object(f.jsxs)("table",{className:"table table-hover table-striped",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:"Name"}),Object(f.jsx)("th",{children:"Count"}),Object(f.jsx)("th",{children:"Ops."}),Object(f.jsx)("th",{children:"Febric"}),Object(f.jsx)("th",{})]})}),Object(f.jsx)("tbody",{children:t.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsxs)("td",{children:[Object(f.jsx)("button",{type:"button",className:"close text-danger float-left pr-1","aria-label":"Close","data-original-title":"Delete item",onClick:function(t){return n(e.basketFeId)},children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(f.jsx)("button",{type:"button",className:"border border-0 p-0 bg-transparent noOutline","aria-hidden":"true",style:{color:"#3386ff"},"data-testid":"edit-btn",onClick:function(t){return a(e)},children:Object(f.jsx)("i",{className:"icofont-edit","aria-hidden":"true"})})]}),Object(f.jsxs)("td",{children:[e.name," ",Object(h.exist)(e.operations,m.a)&&Object(f.jsx)("i",{className:"icofont-hanger icofont-md","aria-hidden":"true"})]}),Object(f.jsx)("td",{children:e.count}),Object(f.jsx)("td",{children:Object(h.removeAllMatched)(e.operations,m.a).map((function(e){return Object(p.constantToStringUpperCaseFirstLetter)(e)})).join(", ")}),Object(f.jsx)("td",{children:Object(p.constantToStringUpperCaseFirstLetter)(e.febric)}),Object(f.jsxs)("td",{children:[e.imageUrls.length," ",Object(f.jsx)("i",{className:"icofont-ui-camera","aria-hidden":"true"})]})]},e.basketFeId)}))})]})})},v=n(6),g=n.n(v),N=(n(667),n(133)),k=n.n(N),y=n(88),C=function(e){return e?e.value:""},A=function(e){return 0!==e.length?{value:e,label:e}:null};t.a=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),l=n[0],o=n[1],b=function(){return o(!1)},p=e.isMobile,h=e.handleClearBasket,m=e.items,v=e.handleAddressChange,N=e.addresses,S=e.handleServiceChange,T=e.selectedService,w=e.selectedAddress,B=e.handleCheckBasketPrice,E=e.isLoading;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"card",ref:e.refsMap.get(y.a.basket),tabIndex:-1,children:[Object(f.jsxs)("div",{className:g()("header",{"p-3":p,"pt-sm-2 px-sm-4":!p}),children:[Object(f.jsxs)("h4",{className:"title",children:["Basket ",Object(f.jsx)("i",{className:"icofont-basket icofont-md","aria-hidden":"true"})]}),0!==m.length&&Object(f.jsx)("p",{className:"category",children:"Following items you have added to you basket"})]}),Object(f.jsxs)("div",{className:g()("content",{"p-2":p,"pt-sm-2 px-sm-4":!p}),children:[0===m.length&&Object(f.jsx)("div",{style:{textAlign:"center"},"data-testid":"emptyBasket",children:Object(f.jsx)("i",{className:g()("icofont-delete-alt icofont-md",{mobileEmptyBasket:p,desktopEmptyBasket:!p}),"aria-hidden":"true"})}),0!==m.length&&Object(f.jsxs)(f.Fragment,{children:[p&&Object(f.jsx)(O,Object(a.a)({},e)),!p&&Object(f.jsx)(x,Object(a.a)({},e)),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"d-flex flex-column",children:Object(f.jsx)(d.a,{type:"dropDownAddNew",label:"Pickup and delivery: ",onChange:function(e){return v(C(e))},options:N.map((function(e){return{value:e,label:e}})),defaultValue:A(w)})}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"d-flex flex-column",children:[Object(f.jsx)(u.a,{label:"Express",input:{name:"serviceType",value:"EXPRESS",onChange:function(e){return S(e.target.value)},checked:"EXPRESS"===T}}),Object(f.jsx)(u.a,{label:"Urgent",input:{name:"serviceType",value:"URGENT",onChange:function(e){return S(e.target.value)},checked:"URGENT"===T}}),Object(f.jsx)(u.a,{label:"Standard",input:{name:"serviceType",value:"STANDARD",onChange:function(e){return S(e.target.value)},checked:"STANDARD"===T}})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-end flex-wrap",children:[Object(f.jsxs)(s.a,{variant:"light",className:"btn btn-wd",onClick:function(){return o(!0)},children:["Empty Basket ",Object(f.jsx)("i",{className:"icofont-delete-alt icofont-md","aria-hidden":"true"})]}),Object(f.jsx)(s.a,{className:"btn btn-success btn-fill btn-wd float-right mt-1 ml-1",onClick:function(){w?B():j.a.warn("Select or enter address for pickup & delivery")},disabled:E,children:Object(f.jsxs)(k.a,{variant:"light",show:E,id:"checkPriceButtonText",children:["Check Price ",Object(f.jsx)("i",{className:"icofont-database icofont-md","aria-hidden":"true"})]})})]})]})]})]})]}),Object(f.jsxs)(i.a,{show:l,onHide:b,children:[Object(f.jsx)(i.a.Header,{closeButton:!0,translate:"yes",children:Object(f.jsx)(i.a.Title,{children:"Empty Basket"})}),Object(f.jsx)(i.a.Body,{children:"Everything will be delete from basket!"}),Object(f.jsxs)(i.a.Footer,{children:[Object(f.jsx)(s.a,{variant:"primary",onClick:function(){b(),h()},children:"Delete"}),Object(f.jsx)(s.a,{variant:"secondary",onClick:b,children:"No"})]})]})]})}},832:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(74),c=n(0),s=n(42),i=n(51),l=n(21),d=n(29),o=n(91),u=n(43),b=n(44),j=n(677),p=n.n(j),h=n(359),m=n.n(h),f=n(358),O=n.n(f),x=n(151),v=n.n(x),g=n(39),N=n.n(g),k=n(653),y=n.n(k),C=n(133),A=n.n(C),S=n(118),T=n(219),w=n(683),B=n(1);function E(e){var t=e.laundry,n=e.handleServiceChange,a=e.service,r="STANDARD"===a,c="URGENT"===a,s="EXPRESS"===a;return Object(B.jsxs)("div",{className:"col-md-6",children:[Object(B.jsxs)("h4",{children:["Your are about to ask ",t.name," come to pickup"]}),"They provide following services. Change according to your need",Object(B.jsx)("br",{}),Object(B.jsx)("br",{}),Object(B.jsxs)("div",{className:"d-flex flex-column",children:[Object(B.jsx)(O.a,{label:"Standard: ".concat(t.timeStandard),input:{name:"serviceType",value:"STANDARD",onChange:function(e){return n(e.target.value)},checked:r},disabled:""===t.timeStandard}),Object(B.jsx)(O.a,{label:"Urgent: ".concat(t.timeUrgent),input:{name:"serviceType",value:"URGENT",onChange:function(e){return n(e.target.value)},checked:c},disabled:""===t.timeUrgent}),Object(B.jsx)(O.a,{label:"Express: ".concat(t.timeExpress),input:{name:"serviceType",value:"EXPRESS",onChange:function(e){return n(e.target.value)},checked:s},disabled:""===t.timeExpress})]}),Object(B.jsx)("br",{}),Object(B.jsxs)("p",{className:"text-muted",children:[c?"Note: Urgent services normally cost double than standard.":"",s?"Note: Express services will be most expensive.":""]})]})}var D=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={displayTimepicker:!1,code:""},a.getValue=a.getValue.bind(Object(o.a)(a)),a.changeTimeState=a.changeTimeState.bind(Object(o.a)(a)),a.validateAndHandlePostJob=a.validateAndHandlePostJob.bind(Object(o.a)(a)),a}return Object(d.a)(n,[{key:"toggleTimekeeper",value:function(e){var t=!this.state.displayTimepicker;this.setState({displayTimepicker:t,code:e})}},{key:"getValue",value:function(){switch(this.state.code){case"pa":return this.props.pickupAfter;case"pb":return this.props.pickupBefore;case"da":return this.props.deliverAfter;case"db":return this.props.deliverBefore;default:return""}}},{key:"changeTimeState",value:function(e){switch(this.state.code){case"pa":return this.props.pickupAfterTimeChange(e);case"pb":return this.props.pickupBeforeTimeChange(e);case"da":return this.props.deliverAfterTimeChange(e);case"db":return this.props.deliverBeforeTimeChange(e);default:return}}},{key:"validateAndHandlePostJob",value:function(){var e=Object(T.b)(this.props.email);this.props.selectedAddress?this.props.contactNumber?e?N.a.warn(e+" "+this.props.email):this.props.handlePostJob():N.a.warn("Select or enter contact number"):N.a.warn("Select or enter address")}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.pickupAfter,r=n.pickupBefore,c=n.deliverAfter,s=n.deliverBefore,i=n.handleCancelJob,l=n.selectedAddress,d=n.contactNumber,o=n.contactNumberChange,u=n.deliverNote,b=n.deliverNoteChange,j=n.pickupNote,h=n.pickupNoteChange,f=n.contacts,O=n.email,x=n.isLoading,g=n.addresses,N=n.handleAddressChange,k=n.laundry;return Object(B.jsx)("div",{className:"card",children:Object(B.jsx)("div",{className:"content pt-sm-2 px-sm-4",children:Object(B.jsxs)("div",{className:"row",children:[!!this.state.displayTimepicker&&Object(B.jsx)("div",{className:"col-md-6",children:Object(B.jsx)(p.a,{time:this.getValue(),onChange:this.changeTimeState,onDoneClick:function(){t.toggleTimekeeper("")},switchToMinuteOnHourSelect:!0})}),Object(B.jsxs)("div",{className:"col-md-6",children:[Object(B.jsxs)("h4",{className:"title",children:[k.name," - Quick Pickup"]}),"ADDRESS ",Object(B.jsx)(y.a,{children:"Zebo will come on this address to pickup and deliver on same address. We will share this number to zebo."}),Object(B.jsx)("div",{className:"d-flex flex-column",children:Object(B.jsx)(v.a,{type:"dropDownAddNew",label:"Pickup and delivery: ",onChange:function(e){return N(Object(w.b)(e))},options:g.map((function(e){return{value:e,label:e}})),defaultValue:Object(w.c)(l)})}),Object(B.jsx)("br",{}),Object(B.jsxs)("div",{style:{marginBottom:20},children:["CONTACT NUMBER"," ",Object(B.jsx)(y.a,{children:"We will share this number to zebo, if something confusing zebo can contact you on this"}),Object(B.jsx)(v.a,{type:"dropDownAddNew",label:"Phone number: ",isClearable:"true",options:f.map((function(e){return{value:e,label:e}})),onChange:function(e){return o((t=e)?t.value:"");var t},defaultValue:(e=d,0!==e.length?{value:e,label:e}:null),onlyNumbers:!0})]}),Object(B.jsxs)("div",{style:{marginBottom:20},children:["EMAIL "," ",Object(B.jsx)(y.a,{children:"We will use this to update you about your job status e-g we will send you email once your job is complete"}),Object(B.jsx)(m.a,{type:"email",name:"email",placeholder:"Email",meta:{},defaultValue:O,onChange:function(e){return t.props.updateEmailJob(e.target.value)}})]}),Object(B.jsxs)("div",{style:{marginBottom:20},children:[Object(B.jsxs)("div",{children:["PREFERRED PICK UP "," ",Object(B.jsx)(y.a,{children:"Zebo will come to pick up clothes between these time. You can mention any notes as well e-g pickup from front door"})]}),Object(B.jsxs)("div",{className:"btn-group",style:{marginBottom:5},children:[Object(B.jsxs)("button",{type:"button","data-testid":"pickupAfter",className:"btn btn-default",onClick:function(){return t.toggleTimekeeper("pa")},children:["After ",a]}),Object(B.jsxs)("button",{type:"button","data-testid":"pickupBefore",className:"btn btn-default",onClick:function(){return t.toggleTimekeeper("pb")},children:["Before ",r]})]}),Object(B.jsx)(m.a,{type:"text",placeholder:"pick up notes - e.g i need urgent service",meta:{},input:{value:j,onChange:function(e){return h(e.target.value)}}})]}),Object(B.jsxs)("div",{style:{marginBottom:20},children:[Object(B.jsxs)("div",{children:["PREFERRED DELIVERY "," ",Object(B.jsx)(y.a,{children:"Zebo will come to deliver clothes between these time. You should be at home this time. You can also mention any notes as well e-g door ball is not working"})]}),Object(B.jsxs)("div",{className:"btn-group",style:{marginBottom:5},children:[Object(B.jsxs)("button",{type:"button","data-testid":"deliverAfter",className:"btn btn-default",onClick:function(){return t.toggleTimekeeper("da")},children:["After ",c]}),Object(B.jsxs)("button",{type:"button","data-testid":"deliverBefore",className:"btn btn-default",onClick:function(){return t.toggleTimekeeper("db")},children:["Before ",s]})]}),Object(B.jsx)(m.a,{type:"text",placeholder:"delivery notes - e.g deliver me on 16th",meta:{},input:{value:u,onChange:function(e){return b(e.target.value)}}})]}),Object(B.jsx)("div",{className:"row float-right",children:Object(B.jsxs)("div",{className:"col-md-12 input-group",children:[Object(B.jsxs)(S.a,{variant:"light",className:"btn btn-wd",onClick:function(){return i()},children:["Cancel ",Object(B.jsx)("i",{className:"icofont-close icofont-md","aria-hidden":"true"})]}),Object(B.jsx)(S.a,{className:"btn btn-success btn-fill btn-wd ml-1",onClick:function(){return t.validateAndHandlePostJob()},disabled:x,children:Object(B.jsxs)(A.a,{variant:"light",show:x,id:"postJobButtonText",children:["POST ",Object(B.jsx)("i",{className:"icofont-paper-plane icofont-md","aria-hidden":"true"})]})})]})})]}),!this.state.displayTimepicker&&E(this.props)]})})})}}]),n}(c.Component),P=n(87),R=n(16),U=n(357),F=n.n(U),I=n(24),J=n(62),L=n(266),V=n(152),z=n(31);var H={updateUserContact:P.g,updateUserAddress:P.f,updateStoreReceive:V.updateStoreReceive,updateStoreSend:V.updateStoreSend};t.default=Object(s.o)(Object(i.b)((function(e){return{pickupAfter:e.loginState.user.preferences.preferredPickupAfter,pickupBefore:e.loginState.user.preferences.preferredPickupBefore,deliverAfter:e.loginState.user.preferences.preferredDeliverAfter,deliverBefore:e.loginState.user.preferences.preferredDeliverBefore,contacts:e.loginState.user.preferences.contactNumbers,email:e.loginState.user.emailCorrespondence,isLoading:F.a.isInProgress(R.l,e.aPICallsState.calls),laundry:e.quickJobState.laundry,addresses:e.loginState.user.preferences.deliveryAddress}}),H)((function(e){var t=function(e){return{laundryId:e.laundry.id,ppAfter:e.pickupAfter,ppBefore:e.pickupBefore,ppNotes:"",pdAfter:e.deliverAfter,pdBefore:e.deliverBefore,pdNotes:"",address:e.addresses.length>0?e.addresses[0]:"",number:e.contacts.length>0?e.contacts[0]:"",email:e.email,service:"STANDARD",localDateTime:Object(L.currentDateTime)()}}(e),n=Object(c.useState)(t),i=Object(r.a)(n,2),l=i[0],d=i[1],o=Object(a.a)(Object(a.a)({},e),{},{deliverNote:l.pdNotes,pickupNote:l.ppNotes,selectedAddress:l.address,contactNumber:l.number,service:l.service,email:l.email,pickupAfter:l.ppAfter,pickupBefore:l.ppBefore,deliverAfter:l.pdAfter,deliverBefore:l.pdBefore,pickupAfterTimeChange:function(e){return d(Object(a.a)(Object(a.a)({},l),{},{ppAfter:e.formatted12}))},pickupBeforeTimeChange:function(e){return d(Object(a.a)(Object(a.a)({},l),{},{ppBefore:e.formatted12}))},deliverAfterTimeChange:function(e){return d(Object(a.a)(Object(a.a)({},l),{},{pdAfter:e.formatted12}))},deliverBeforeTimeChange:function(e){return d(Object(a.a)(Object(a.a)({},l),{},{pdBefore:e.formatted12}))},handleCancelJob:function(){return e.history.replace(I.d)},handlePostJob:function(){e.updateStoreSend(R.l),Object(J.y)(Object(a.a)(Object(a.a)({},l),{},{localDateTime:Object(L.currentDateTime)()})).then((function(t){N.a.sucs(t.message),e.history.goBack()})).catch(z.notifyErr).finally((function(){return e.updateStoreReceive(R.l)}))},contactNumberChange:function(t){e.updateUserContact(t),d(Object(a.a)(Object(a.a)({},l),{},{number:t}))},deliverNoteChange:function(e){return d(Object(a.a)(Object(a.a)({},l),{},{pdNotes:e}))},pickupNoteChange:function(e){return d(Object(a.a)(Object(a.a)({},l),{},{ppNotes:e}))},updateEmailJob:function(e){return d(Object(a.a)(Object(a.a)({},l),{},{email:e}))},handleAddressChange:function(t){e.updateUserAddress(t),d(Object(a.a)(Object(a.a)({},l),{},{address:t}))},handleServiceChange:function(e){d(Object(a.a)(Object(a.a)({},l),{},{service:e}))}});return-1===e.laundry.id?Object(B.jsx)(s.c,{to:I.d,push:!1}):Object(B.jsx)(D,Object(a.a)({},o))})))}}]);