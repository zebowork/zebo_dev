(this.webpackJsonpzebo_fe=this.webpackJsonpzebo_fe||[]).push([[5],{647:function(e,t,a){"use strict";var n=a(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=a(213),l=function(e){var t=e.children;return r.default.createElement(c.OverlayTrigger,{key:"bottom",placement:"bottom",overlay:r.default.createElement(c.Tooltip,{id:"tooltip-bottom"},t)},r.default.createElement("div",{className:"btn btn-secondary border border-0 p-0 bg-transparent"},r.default.createElement("i",{className:"icofont-info-circle icofont-2x"})))};t.default=l},654:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a(48),r=a.n(n),c=a(90),l=a(65),o=a(15),s=a(61),i=a(258);function u(){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.m)(),e.next=3,Object(l.getApiResponseFromDb)(o.f);case 3:if(!(a=e.sent)){e.next=7;break}return Object(i.a)(t),e.abrupt("return",a.response);case 7:return e.abrupt("return",Object(i.a)(t));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(r.a.mark((function e(t){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(o.j)(t),n=Object(s.o)(t),e.next=4,Object(l.getApiResponseFromDb)(a);case 4:if(!(c=e.sent)){e.next=8;break}return Object(i.c)(t,n),e.abrupt("return",Promise.resolve({db:c.response,api:n}));case 8:return e.abrupt("return",Promise.resolve({db:void 0,api:Object(i.c)(t,n)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.n)(0,0),e.next=3,Object(l.getApiResponseFromDb)(o.h);case 3:if(!(a=e.sent)){e.next=7;break}return Object(i.b)(t),e.abrupt("return",Promise.resolve({db:a.response,api:t}));case 7:return e.abrupt("return",Promise.resolve({db:[],api:Object(i.b)(t)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},824:function(e,t,a){"use strict";a.r(t);var n=a(60),r=a(20),c=a(27),l=a(89),o=a(41),s=a(42),i=a(0),u=a.n(i),m=a(173),d=a(45),b=a.n(d),p=a(333),f=a(150),h=a.n(f),v=a(647),E=a.n(v),y=a(141),N=a(654),O=[{value:"COMPLAIN",label:"Complain"},{value:"SUGGESTIONS",label:"Suggestions"},{value:"GENERAL ENQUIRY",label:"General Enquiry"}],j={value:"COMPLAIN",label:"Complain"},w=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={data:[]},n.handleSendClick=n.handleSendClick.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.authenticated&&Object(N.b)().then((function(t){var a=t.db,n=t.api;return a.length>0&&e.setState({data:a}),n})).then((function(t){return e.setState({data:t})})).catch((function(e){b.a.err(e&&e.message||y.b)}))}},{key:"handleSendClick",value:function(e){this.props.handleSendClick(e,this.props.history)}},{key:"render",value:function(){var e=this.state.data.map((function(e){return{value:e.id,label:(t=e.items,t.map((function(e){return 1!==e.count?e.count+" "+e.name:e.name})).join(" + "))};var t})),t=this.props.history.location.state,a=t?t.jobHistoryId:void 0,n=a?e.filter((function(e){return e.value===a}))[0]:void 0,r=this.props.email;return u.a.createElement("div",null,u.a.createElement("div",{className:"content"},u.a.createElement("div",{className:"container-fluid"},u.a.createElement(m.b,{onSubmit:this.handleSendClick},(function(t){var a=t.handleSubmit,c=t.submitting;return u.a.createElement("div",{className:"row pt-2"},u.a.createElement("div",{className:"col-md-12 col-md-offset-2"},u.a.createElement(p.a,null,u.a.createElement("form",{className:"form-horizontal",onSubmit:a},u.a.createElement("div",{className:"header pt-sm-2 px-sm-4"},u.a.createElement("h4",{className:"title"},u.a.createElement("span",null,"Contact")," ",u.a.createElement("i",{className:"icofont-headphone-alt","aria-hidden":"true"})),u.a.createElement("p",{className:"category"},"Customer satisfaction is our Top priority")),u.a.createElement("div",{className:"content pt-sm-2 px-sm-4"},u.a.createElement("div",{className:"row pb-3"},u.a.createElement("label",{className:"col-sm-3 control-label",htmlFor:"reason"},"REASON"," ",u.a.createElement(E.a,null,"Main reason, why you are contacting us")),u.a.createElement("div",{className:"col-md-12"},u.a.createElement(m.a,{name:"reason",component:h.a,type:"select",options:O,defaultValue:j,isSearchable:!1,id:"reason"}))),u.a.createElement("div",{className:"row pb-3"},u.a.createElement("label",{className:"col-sm-3 control-label",htmlFor:"recentJob"},"RECENT JOB"," ",u.a.createElement(E.a,null,"Your previous jobs which you can select, if contact is about job")),u.a.createElement("div",{className:"col-md-12"},u.a.createElement(m.a,{name:"recentJob",component:h.a,type:"select",label:"Recent Job:",options:e,defaultValue:n,isClearable:!0,id:"recentJob"}))),u.a.createElement("div",{className:"row pb-3"},u.a.createElement("label",{className:"col-sm-3 control-label",htmlFor:"email"},"EMAIL"," ",u.a.createElement(E.a,null,"We will contact you back on this email")),u.a.createElement("div",{className:"col-md-12"},u.a.createElement(m.a,{name:"email",component:h.a,type:"email",placeholder:"Email",defaultValue:r,"data-testid":"email"}))),u.a.createElement("div",{className:"row pb-3"},u.a.createElement("label",{className:"col-sm-3 control-label"},"DESCRIPTION"," ",u.a.createElement(E.a,null,"Here you can input details why you are contacting us")),u.a.createElement("div",{className:"col-md-12"},u.a.createElement(m.a,{type:"textarea",component:h.a,name:"description",className:"form-control",placeholder:"Reason and detail why you are contacting us",rows:9,"data-testid":"description"}))),u.a.createElement("div",{className:"row pb-2"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("button",{type:"submit",className:"btn btn-success btn-fill btn-wd float-right",disabled:c},"SEND"," ",u.a.createElement("i",{className:"icofont-paper-plane icofont-md","aria-hidden":"true"})))))))))})))))}}]),a}(u.a.Component),S=a(53),k=a(61),g=a(342),C=a(40),x=a(31),I=function(e,t){e.description?e.email?Object(k.h)({description:e.description,email:e.email,jobId:e.recentJob?e.recentJob.value:"",reason:e.reason.value,source:"WUI",localTime:Object(g.currentDateTime)()}).then((function(){b.a.sucs("We will contact you as soon as possible"),t.push(S.HOME)})).catch(x.notifyErr):b.a.warn("To which email should we contact you back?"):b.a.warn("Please tell! Why you are contacting?")};t.default=Object(C.o)(Object(n.b)((function(e){return{email:e.loginState.user.email,authenticated:e.loginState.authenticated,handleSendClick:I}}))(w))}}]);