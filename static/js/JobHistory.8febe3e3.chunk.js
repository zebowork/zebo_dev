(this.webpackJsonpzebo_fe=this.webpackJsonpzebo_fe||[]).push([[12],{598:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return d}));var n=a(48),l=a.n(n),r=a(80),c=a(67),s=a(19),i=a(56),o=a(226);function m(){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(i.j)(),e.next=3,Object(c.c)(s.f);case 3:if(!(a=e.sent)){e.next=7;break}return Object(o.a)(t),e.abrupt("return",a.response);case 7:return e.abrupt("return",Object(o.a)(t));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(i.k)(0,0),e.next=3,Object(c.c)(s.h);case 3:if(!(a=e.sent)){e.next=7;break}return Object(o.b)(t),e.abrupt("return",Promise.resolve({db:a.response,api:t}));case 7:return e.abrupt("return",Promise.resolve({db:[],api:Object(o.b)(t)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},641:function(e,t,a){},758:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a(25),r=a(79),c=a(36),s=a(37),i=a(54),o=a(2),m=a(0),u=a.n(m),d=a(683),p=a.n(d),b=a(721),f=a.n(b),E=(a(729),a(730)),g=a.n(E),h=a(10),N=a.n(h),v=(a(641),a(599)),y=a(83),x=a(171),j=(a(329),a(30)),k=a(108),w=a(587),O=a(597),C=a(596),S=function(e){var t=Object(m.useState)(!1),a=Object(y.a)(t,2),n=a[0],l=a[1],r=Object(m.useState)(new Array),c=Object(y.a)(r,2),s=c[0],i=c[1],o=Object(m.useState)(!1),d=Object(y.a)(o,2),p=d[0],b=d[1],f=e.items,E=e.submissionDateTime,g=e.totalPrice,h=e.deliveryCost,N=e.errors,v=e.warnings,S=e.jobDescriptionComponent,F=e.status;return u.a.createElement("div",{className:"row text-wrap m-0 pb-0 mb-0"},u.a.createElement("div",{className:"col-sm-12 col-md-6 rounded text-wrap r-border bg-detail"},u.a.createElement("div",{className:"row m-0 p-0"},u.a.createElement("div",{className:"col p-0 text-left"},u.a.createElement("div",{className:"pt-2 pl-2"},u.a.createElement("span",null,E)),f.map((function(e){return u.a.createElement("div",{className:"card my-1 border-0",key:Object(k.a)()},u.a.createElement("div",{className:"d-flex flex-row  rounded bg-detail"},u.a.createElement("div",{className:"d-flex align-items-start flex-column align-self-center"},u.a.createElement("div",{className:"align-self-center align-self-stretch"},u.a.createElement("span",{className:"circleNum"},Object(j.k)(e.count)))),u.a.createElement("div",{className:"d-flex align-items-start flex-column pl-2  w-100"},u.a.createElement("div",{className:"d-flex pt-2 w-100"},u.a.createElement("div",{className:"p-0 "},u.a.createElement("span",{className:"wr font-weight-bold"}," ",Object(j.j)(e.name,19))," ",e.hanger&&u.a.createElement("i",{className:"icofont-hanger","aria-hidden":"true"}),"  ",e.imageUrls.length>0&&u.a.createElement(w.a,{className:"btn btn-xs",onClick:function(t){return function(e){l(!0),i(e)}(e.imageUrls)}},u.a.createElement("i",{className:"icofont-ui-camera opc6 cBlack","aria-hidden":"true","data-testid":"camera"}))),u.a.createElement("div",{className:"pt-2 ",style:{fontSize:"10px",textAlign:"right"}},"OTHER"===e.fabric?"":e.fabric)),u.a.createElement("div",{className:"d-flex justify-content-between p-0"},e.operationsOnItem.map((function(e){return Object(j.b)(e)})).join(", ")),u.a.createElement("div",{className:"d-flex justify-content-between p-0"}," ",u.a.createElement("i",{className:"icofont-database icofont-sm opc6 pt-2","aria-hidden":"true"}),u.a.createElement("span",null,e.priceLine)))))}))),u.a.createElement("div",{className:"col p-0 pt-4 text-left"},u.a.createElement("div",{className:"d-flex flex-column pl-5"},u.a.createElement("div",null,"Status: ",u.a.createElement("span",{className:"font-weight-bold",style:{color:Object(O.b)(F)}},F),u.a.createElement(C.a,null,Object(O.c)(F)))),u.a.createElement("div",{className:"d-flex flex-column pl-5"},u.a.createElement("div",null,"Delivery: ",u.a.createElement("span",{className:"font-weight-bold"},h))),u.a.createElement("div",{className:"d-flex flex-column pl-5"},u.a.createElement("div",null,"Total: ",u.a.createElement("span",{className:"font-weight-bold"},g))),(N.length>0||v.length>0)&&u.a.createElement("div",{className:"d-flex flex-row  rounded pl-0"},u.a.createElement("div",{className:"d-flex flex-column pl-5"},u.a.createElement("button",{className:"btn btn-xs",onClick:function(){return b(!0)}},"Notes")))))),S,u.a.createElement(x.a,{show:n,onHide:function(){l(!1),i([])},dialogClassName:"modal-dialog modal-dialog-scrollable","aria-labelledby":"contained-modal-title-vcenter",size:"xl",centered:!0},u.a.createElement(x.a.Header,{closeButton:!0,translate:"yes"},"Images"),u.a.createElement(x.a.Body,{style:{backgroundColor:"white"}},s.map((function(e){return u.a.createElement("div",{className:"img-wrap m-2"},u.a.createElement("img",{src:e,alt:"item",className:"img-fluid","data-testid":"image"}))})))),u.a.createElement(x.a,{show:p,onHide:function(){return b(!1)},dialogClassName:"modal-dialog modal-dialog-scrollable","aria-labelledby":"contained-modal-title-vcenter",size:"lg",centered:!0},u.a.createElement(x.a.Header,{closeButton:!0,translate:"yes"},"Warnings"),u.a.createElement(x.a.Body,{style:{backgroundColor:"white"}},u.a.createElement("ul",{className:"text-danger"},N&&N.map((function(e){return u.a.createElement("li",null,e)}))),u.a.createElement("ul",{className:"text-warning"},v&&v.map((function(e){return u.a.createElement("li",null,e)}))))))},F=function(e){var t=u.a.useState({show:!1,status:""}),a=Object(y.a)(t,2),n=a[0],l=a[1],r=function(e){l({show:!0,status:e})},c=function(){l({show:!1,status:""})},s=e.handleContactClick,i=e.status,o=e.handleStatusChange,m=e.id;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"buttons-with-margin"},u.a.createElement("button",{className:"btn btn-fill btn-primary",onClick:s},u.a.createElement("i",{className:"icofont-headphone-alt icofont-md","aria-hidden":"true"})),function(e){return e===O.a.INITIAL||e===O.a.SUBMITTED||e===O.a.BID||e===O.a.ASSIGN}(i)&&u.a.createElement(w.a,{variant:"warning",onClick:function(){return r(O.a.CANCEL)}},"Cancel Job"),function(e){return e===O.a.CANCEL||e===O.a.COMPLETE}(i)&&u.a.createElement(w.a,{variant:"danger",onClick:function(){return r(O.a.DELETE)}},u.a.createElement("i",{className:"icofont-trash icofont-md","aria-hidden":"true"}))),u.a.createElement(x.a,{show:n.show,onHide:c,dialogClassName:"modal-dialog","aria-labelledby":"contained-modal-title-center",size:"sm",centered:!0},u.a.createElement(x.a.Header,{translate:"yes"},u.a.createElement(x.a.Title,null,u.a.createElement("i",{className:"icofont-barricade icofont-md","aria-hidden":"true"})," ",n.status," job?")),u.a.createElement(x.a.Footer,null,u.a.createElement(w.a,{variant:"primary",onClick:function(){var e=n.status;l({show:!1,status:""}),o(m,e)}},u.a.createElement("i",{className:"icofont-tick-mark","aria-hidden":"true"})," Yes"),u.a.createElement(w.a,{variant:"secondary",onClick:c},u.a.createElement("i",{className:"icofont-close","aria-hidden":"true"})," No"))))},D=function(e){var t=e.contactNumber,a=e.deliverAfter,n=e.deliverBefore,l=e.deliverNote,r=e.pickupAfter,c=e.pickupBefore,s=e.pickupDeliveryAddress,i=e.pickupNote,o=e.laundryName,m=e.type,d=e.emailCorrespondence;return u.a.createElement("div",{className:"col-sm-12 col-md-6 r-border bg-detail"},u.a.createElement("div",{className:"card pb-0 border-0"},u.a.createElement("ul",{className:"list-group list-group-flush pb-0 border-0"},u.a.createElement("li",{className:"list-group-item pb-0 px-0 bg-detail"},u.a.createElement("span",{className:"font-weight-bold"},o)),u.a.createElement("li",{className:"list-group-item py-0 px-0 pt-2 bg-detail"},"Type: ",u.a.createElement("span",{className:"font-weight-bold"},m)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Pickup Before:"," ",u.a.createElement("span",{className:"font-weight-bold"},c)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Pickup After:"," ",u.a.createElement("span",{className:"font-weight-bold"},r)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Pickup Note:"," ",u.a.createElement("span",{className:"font-weight-bold"},i)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Delivery Before:"," ",u.a.createElement("span",{className:"font-weight-bold"},n)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Delivery After:"," ",u.a.createElement("span",{className:"font-weight-bold"},a)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Delivery Note:"," ",u.a.createElement("span",{className:"font-weight-bold"},l)),u.a.createElement("li",{className:"list-group-item py-0 px-0 pt-2 bg-detail"},t),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},d),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},s),u.a.createElement("li",{className:"list-group-item px-0 pb-0 bg-detail"},u.a.createElement("div",{className:"float-right pb-0"},u.a.createElement(F,e))))))},L=function(e){var t=e.contactNumber,a=e.deliverAfter,n=e.deliverBefore,l=e.deliverNote,r=e.pickupAfter,c=e.pickupBefore,s=e.pickupDeliveryAddress,i=e.pickupNote,o=e.laundryName,m=e.type,d=e.emailCorrespondence;return u.a.createElement("div",{className:"col-sm-12 col-md-6 r-border bg-detail"},u.a.createElement("div",{className:"row m-0 p-0 pb-1"},u.a.createElement("div",{className:"col p-0 text-left"},u.a.createElement("ul",{className:"list-group list-group-flush pb-0 border-0 bg-detail"},u.a.createElement("li",{className:"list-group-item pb-2 px-0 bg-detail"},u.a.createElement("span",{className:"p-0 font-weight-bold"},o)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Pickup Before:"," ",u.a.createElement("span",{className:"font-weight-bold"},c)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Pickup After:"," ",u.a.createElement("span",{className:"font-weight-bold"},r)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Pickup Note:"," ",u.a.createElement("span",{className:"font-weight-bold"},i)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Delviery Before:"," ",u.a.createElement("span",{className:"font-weight-bold"},n)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Delivery After:"," ",u.a.createElement("span",{className:"font-weight-bold"},a)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},"Delivery Note:"," ",u.a.createElement("span",{className:"font-weight-bold"},l)))),u.a.createElement("div",{className:"col p-0 py-1 text-left"},u.a.createElement("ul",{className:"list-group list-group-flush pb-0 border-0 bg-detail"},u.a.createElement("li",{className:"list-group-item py-2 px-0 bg-detail"},"Type: ",u.a.createElement("span",{className:"font-weight-bold"},m)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},u.a.createElement("span",null,t)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},u.a.createElement("span",null,d)),u.a.createElement("li",{className:"list-group-item py-0 px-0 bg-detail"},u.a.createElement("span",null,s))))),u.a.createElement("div",{className:"float-right pb-2","data-testid":"contact"},u.a.createElement(F,e)))},H=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.isMobile;return u.a.createElement("div",null,e&&u.a.createElement(S,Object.assign({},this.props,{jobDescriptionComponent:u.a.createElement(D,this.props)})),!e&&u.a.createElement(S,Object.assign({},this.props,{jobDescriptionComponent:u.a.createElement(L,this.props)})))}}]),a}(u.a.Component),T=Object(i.b)((function(e){return{isMobile:e.layoutState.isMobile}}))(H),A=a(148),B=a(127);var I=function(e){var t=e.handleSubmitClick,a=e.header,n=void 0===a?"Feedback Rating":a,l=e.text,r=void 0===l?"Leave feedback":l,c=e.btnClass,s=void 0===c?"btn btn-success":c,i=m.useState(!1),o=Object(y.a)(i,2),u=o[0],d=o[1],p=m.useState(""),b=Object(y.a)(p,2),f=b[0],E=b[1],g=function(){E(""),d(!1)},h=function(e){console.log(e),e.rating?(g(),t(e)):E("Press on stars")};return m.createElement(m.Fragment,null,m.createElement("button",{onClick:function(){g(),d(!0)},className:s},m.createElement(v.a,{classes:"notification"})," ",r),m.createElement(A.b,{onSubmit:h},(function(e){var t=e.values;return m.createElement(x.a,{show:u,onHide:g},m.createElement(x.a.Header,{closeButton:!0},m.createElement(x.a.Title,null,m.createElement(v.b,{classes:"ui-rate-blank text-warning"})," ",n," ",m.createElement(v.b,{classes:"ui-rate-blank text-warning"})," ",t.rating)),m.createElement(x.a.Body,null,m.createElement("div",{className:"d-flex flex-column"},m.createElement("div",{className:"pb-5"},"How happy you are with service?"),m.createElement("div",{className:"pb-3"},m.createElement(A.a,{name:"rating",type:"rating",component:B.a})," ",f),m.createElement("div",{className:"pb-5"},m.createElement(A.a,{name:"comment",type:"textarea",component:B.a,placeholder:"Write you comments here"})),m.createElement(A.a,{name:"hideName",type:"checkbox",component:B.a,label:"Hide my name - Your feedback will be anonymous and name will be hidden from laundry and other users"}))),m.createElement(x.a.Footer,null,m.createElement(w.a,{variant:"primary",onClick:function(){return h(t)}}," ",m.createElement(v.a,{classes:"tick-mark"})," Send "),m.createElement(w.a,{variant:"secondary",onClick:g}," ",m.createElement(v.a,{classes:"close"})," Close ")))})))},M={className:"r-background",renderer:function(e){return u.a.createElement(T,e)},showExpandColumn:!0,expandByColumnOnly:!0,expandHeaderColumnRenderer:function(e){return e.isAnyExpands?u.a.createElement(v.a,{classes:"minus"}):u.a.createElement(v.a,{classes:"plus"})},expandColumnRenderer:function(e){return e.expanded?u.a.createElement(v.b,{classes:"simple-up text-primary"}):u.a.createElement(v.b,{classes:"simple-down text-primary"})}},P=Object(o.a)(Object(o.a)({},M),{},{expandColumnPosition:"right"}),J=function(e,t){var a=null;return e.status===O.a.DELIVERED&&(a="bg-feedback"),a},R=function(e,t,a,n){var l=e?e.map((function(e){return((t=e).count>1?t.count+" ":"")+t.name;var t})).join(" + "):"";return u.a.createElement("div",null,u.a.createElement("button",{className:"btn btn-fill btn-primary",onClick:function(){return n(t)}},u.a.createElement(v.b,{classes:"basket"}))," ",l)},z=function(e,t){return e===O.a.DELIVERED?u.a.createElement(I,{key:t.id,header:t.laundryName,handleSubmitClick:function(e){return t.sendJobFeedback(t.id,e)}}):u.a.createElement("span",null,e.toLocaleLowerCase())},U=function(e){return[{dataField:"items",text:"Items",formatter:R,formatExtraData:e},{dataField:"status",text:"Status",formatter:z},{dataField:"submissionDateTime",text:"Posted on",sort:!0},{dataField:"type",text:"Type"}]},Y=function(e){return U(e).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{hidden:!("items"===e.dataField||"status"===e.dataField)})}))},_=function(e){var t=e.columns,a=e.onColumnToggle,n=e.toggles;return u.a.createElement("div",{className:"buttons-with-margin","data-toggle":"buttons"},t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{toggle:n[e.dataField]})})).filter((function(e){return"items"!==e.dataField})).map((function(e){return u.a.createElement("button",{type:"button",key:e.dataField,className:"btn btn-primary ".concat(e.toggle?"active":""),"data-toggle":"button","aria-pressed":e.toggle?"true":"false",onClick:function(){return a(e.dataField)}},e.text)})))},G=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isMobile,a=e.handleCreateBasketFromHistory,n=e.data,l=e.handleContactFromHistory,r=e.handleStatusChange,c=e.sendJobFeedback,s=n.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{sendJobFeedback:c,handleStatusChange:r,handleContactClick:function(){return l(e.id)}})}));return u.a.createElement("div",{className:N()("container-fluid",{"mt-2":t})},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"header pt-sm-2 px-sm-4"},u.a.createElement("h4",null,"Job History ",u.a.createElement(v.b,{classes:"history"}))),u.a.createElement("div",{className:"content pt-sm-2 px-sm-4"},t?function(e,t){return u.a.createElement(g.a,{bootstrap4:!0,keyField:"id",data:e,columns:Y(t),columnToggle:!0},(function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(_,e.columnToggleProps),u.a.createElement(p.a,Object.assign({expandRow:P,rowClasses:J,stripe:"true",noDataIndication:"No job posted yet!",pagination:f()()},e.baseProps)))}))}(s,a):function(e,t){return u.a.createElement(p.a,{bootstrap4:!0,keyField:"id",data:e,columns:U(t),expandRow:M,rowClasses:J,stripe:"true",noDataIndication:"No job posted yet!",pagination:f()()})}(s,a))))))}}]),a}(u.a.Component),V=a(170),W=a(31),K=a(55),q=function(e){var t=e.isMobile;return u.a.createElement("div",{className:"container text-center"},u.a.createElement("div",{className:N()("d-flex flex-row justify-content-center align-self-end r-height p-4",{"r-heightM":t})},u.a.createElement("div",{className:"d-flex align-self-center"},u.a.createElement("div",{className:"align-self-center"},u.a.createElement(K.b,{to:"job"},u.a.createElement("button",{className:N()("btn btn-success btn-fill btn-lg",{"btn-sm":t})},u.a.createElement("span",null,"Order Your First Laundry ",u.a.createElement("i",{className:"icofont-runner-alt-1 pr-2","aria-hidden":"true"}))))))),u.a.createElement("div",{className:N()("row m-1",{"mt-2":t})},u.a.createElement("div",{className:"col-12"},u.a.createElement("span",{className:N()("circlebg-sub1",{"circlebg-sub1M":t})},u.a.createElement("i",{className:"icofont-refree-jersey icofont-md","aria-hidden":"true"})),u.a.createElement("span",{className:N()("circlebg",{circlebgM:t})},u.a.createElement("i",{className:"icofont-washing-machine","aria-hidden":"true"})),u.a.createElement("span",{className:N()("circlebg-sub1",{"circlebg-sub1M":t})},u.a.createElement("i",{className:"icofont-refree-jersey icofont-md","aria-hidden":"true"})))))},Q=a(748),X=a(26),Z=a(28),$=a(598),ee=a(129),te=a(226),ae=a(56),ne=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={data:void 0,page:void 0,size:void 0},l.updateJobHistoryStatus=l.updateJobHistoryStatus.bind(Object(r.a)(l)),l.sendJobFeedback=l.sendJobFeedback.bind(Object(r.a)(l)),l.updateLocalStatus=l.updateLocalStatus.bind(Object(r.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object($.b)().then((function(t){var a=t.db,n=t.api;return a.length>0&&e.setState({data:a}),n})).then((function(t){return e.setState({data:t})})).catch((function(t){W.a.err(Object(ee.b)(t)),e.setState({data:[]})}))}},{key:"updateLocalStatus",value:function(e,t,a){var n=this,l=O.a.INITIAL;return null===a||void 0===a||a.filter((function(t){return t.id===e})).forEach((function(e){l=e.status,e.status=t})),a&&a.length>0&&Object(te.b)(Promise.resolve(a)),n.setState({data:a}),l}},{key:"updateJobHistoryStatus",value:function(e,t){var a=this,n=this.state.data,l=this.updateLocalStatus(e,t,n);Object(ae.u)(e,t).catch((function(t){W.a.err(Object(ee.b)(t)),a.updateLocalStatus(e,l,n)}))}},{key:"sendJobFeedback",value:function(e,t){var a=this,n=this.state.data,l=this.updateLocalStatus(e,O.a.COMPLETE,n),r=t.rating||0,c=t.comment||"",s=t.hideName||!1;Object(ae.p)({jobId:e,rating:r,comment:c,anonymous:s}).then((function(e){return W.a.info(e.message)})).catch((function(t){W.a.err(Object(ee.b)(t)),a.updateLocalStatus(e,l,n)}))}},{key:"render",value:function(){var e=this.state.data;return e?e.length<=0?u.a.createElement(q,{isMobile:this.props.isMobile}):u.a.createElement(G,Object.assign({},this.props,{data:e.filter((function(e){return e.status!==O.a.DELETE})),handleStatusChange:this.updateJobHistoryStatus,sendJobFeedback:this.sendJobFeedback})):u.a.createElement(Q.a,{variant:"info",animated:!0,now:75,label:"LOADING..."})}}]),a}(u.a.Component);t.default=Object(Z.f)(Object(i.b)((function(e){return{isMobile:e.layoutState.isMobile}}),(function(e,t){return{handleCreateBasketFromHistory:function(a){e(function(e){return{type:V.a.CREATE_BASKET,history:e}}(a)),t.history.push(X.f)},handleContactFromHistory:function(e){t.history.push({pathname:X.c,state:{jobHistoryId:e}})}}}))(ne))}}]);